<h1>Your Abode: <%= @dwelling.name %></h1>
<h3><%= @dwelling.address %></h3>
<p>Invite Code: <%= @dwelling.secret_key %></p>
<!--
<%= form_for current_user, url: user_update_path(current_user.id), method: :put do |f| %>
  <%= f.hidden_field :dwelling_id, value: nil %>
  <%= f.submit "leave_abode" %>
<% end %>
-->

<div id="user_expenses">
    <span id="user-expense-heading">Your Expenses</span>
    <span class="user-expense-summary">
      <span class="user-amount-heading">Amount</span><span class="user-total-expenses"><%= current_user.total_expenses %></span>
      <span class="user-total-paid"><%= current_user.total_paid %></span>
      <span class="user-total-owed"><%= current_user.total_owed %></span>
    </span>
    <ul id="user-expenses"><%= render current_user.user_expenses %></ul>
</div>
<div id="expenses-wrapper">
  <div id="expenses-list"><%= render @dwelling.expenses %></div>
  <div id="new-expense-form-container">
    <%= render partial: "expenses/new", locals: {expense: Expense.new, dwelling_id: @dwelling.id} %>
  </div>
</div>

<div ng-controller="CommentsCtrl">
  <form ng-submit="addComment()">
    <textarea ng-model="newComment.description" rows="5" cols="60"></textarea>
    <input type="submit" value="Add comment">
  </form>
  <ul>
    <li ng-repeat="comment in comments">
      {{comment.description}}
    </li>
  </ul>
</div>
